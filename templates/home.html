<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XQ345FT3ZE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XQ345FT3ZE');
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Nano Banana | AI Image Generation & Professional AI Art Creator</title>
    <meta name="description" content="Free Google Nano Banana - Advanced AI-powered image generation platform. Create stunning visuals with professional Google Nano Banana technology. Enterprise-grade AI art creation.">
    <meta name="keywords" content="google nano banana, nano banana ai, google ai image generation, ai art generator, professional ai image creator, google nano banana technology, ai image generation platform">
    <meta name="author" content="Google Nano Banana Technologies">

    <link rel="icon" href="/static/favicon.ico">

    <meta property="og:title" content="Google Nano Banana | AI Image Generation Platform">
    <meta property="og:description" content="Professional AI image generation powered by Google Nano Banana technology. Create stunning visuals instantly with enterprise-grade AI art generation.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://googlenanobanana.com">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Google Nano Banana | AI Image Generation">
    <meta name="twitter:description" content="Create professional AI images with Google Nano Banana technology. Stunning visuals powered by advanced AI.">

    <link rel="canonical" href="https://googlenanobanana.com">
    <link rel="icon" type="image/png" href="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/banana-decoration.png?alt=media&token=1fc2e419-14a2-46a8-b8e9-bb056a561ec2">

<link rel="icon" type="image/png" sizes="32x32" href="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/banana-decoration.png?alt=media&token=1fc2e419-14a2-46a8-b8e9-bb056a561ec2">
<link rel="apple-touch-icon" href="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/banana-decoration.png?alt=media&token=1fc2e419-14a2-46a8-b8e9-bb056a561ec2">
<meta name="theme-color" content="#ffffff">

<!-- Open Graph / Facebook / LinkedIn -->
<meta property="og:title" content="Google Nano Banana | AI Image Generation Platform">
<meta property="og:description" content="Professional AI image generation powered by Google Nano Banana technology. Create stunning visuals instantly with enterprise-grade AI art generation.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://googlenanobanana.com">
<meta property="og:image" content="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/banana-decoration.png?alt=media&token=1fc2e419-14a2-46a8-b8e9-bb056a561ec2">
<meta property="og:image:alt" content="Google Nano Banana Logo">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Google Nano Banana | AI Image Generation">
<meta name="twitter:description" content="Create professional AI images with Google Nano Banana technology. Stunning visuals powered by advanced AI.">
<meta name="twitter:image" content="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/banana-decoration.png?alt=media&token=1fc2e419-14a2-46a8-b8e9-bb056a561ec2">
<meta name="twitter:image:alt" content="Google Nano Banana Logo">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "Google Nano Banana",
  "operatingSystem": "Web",
  "applicationCategory": "MultimediaApplication",
  "description": "Google Nano Banana is an AI-powered image generation platform. Create professional AI art with enterprise-grade technology.",
  "url": "https://googlenanobanana.com",
  "author": {
    "@type": "Organization",
    "name": "Google Nano Banana Technologies"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.8",
    "ratingCount": "1243"
  }
}
</script>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "CreativeWork",
  "name": "Nano Banana Trending AI Prompts",
  "description": "8 popular AI image transformation styles including 3D figurines, vintage filters, and character creation",
  "creator": {
    "@type": "Organization",
    "name": "Google Nano Banana Technologies"
  },
  "keywords": [
    "3D figurine creator",
    "Soviet era portrait filter",
    "Vintage saree AI",
    "Polaroid photo effect",
    "Anime character generator",
    "Cyberpunk avatar creator",
    "LinkedIn headshot AI",
    "Matryoshka doll generator"
  ],
  "about": [
    {
      "@type": "Thing",
      "name": "AI Photo Transformation",
      "description": "Transform photos into various artistic styles using AI"
    },
    {
      "@type": "Thing", 
      "name": "Professional Portrait Generation",
      "description": "Create business-ready headshots and professional images"
    },
    {
      "@type": "Thing",
      "name": "Character Design AI",
      "description": "Generate anime, cyberpunk, and fantasy character variations"
    }
  ]
}
</script>


    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f8fafc;
            min-height: 100vh;
            color: #1e293b;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px;
        }

        /* Banana Icon */
        .banana-icon {
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            border-radius: 50% 50% 50% 10%;
            position: relative;
            display: inline-block;
            margin-right: 12px;
            transform: rotate(-20deg);
        }

        .banana-icon::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 3px;
            width: 4px;
            height: 8px;
            background: #92400e;
            border-radius: 2px;
            transform: rotate(20deg);
        }

        .nano-banana-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 32px;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 8px;
            letter-spacing: -0.025em;
        }

        .header p {
            font-size: 1.125rem;
            color: #64748b;
            font-weight: 400;
        }

        /* Main Card */
        .main-card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 
                        0 2px 4px -1px rgba(0, 0, 0, 0.06);
            overflow: hidden;
            border: 1px solid #e2e8f0;
            margin-bottom: 48px;
        }

        /* Tabs */
        .tabs {
            display: flex;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .tab {
            flex: 1;
            padding: 16px 24px;
            background: none;
            border: none;
            font-size: 0.875rem;
            font-weight: 500;
            color: #64748b;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .tab.active {
            color: #3b82f6;
            background: white;
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: #3b82f6;
        }

        .tab:hover:not(.active) {
            color: #475569;
            background: #f1f5f9;
        }

        /* Tab Content */
        .tab-content {
            padding: 32px;
        }

        .tab-pane {
            display: none;
        }

        .tab-pane.active {
            display: block;
        }

        /* Image Results */
        .image-results {
            background: #f8fafc;
            border: 2px dashed #cbd5e1;
            border-radius: 12px;
            padding: 48px 32px;
            text-align: center;
            margin-bottom: 24px;
            min-height: 280px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            position: relative;
        }

        .image-results.has-content {
            background: white;
            border: 1px solid #e2e8f0;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        .placeholder-text {
            color: #94a3b8;
            font-size: 1rem;
        }

        .result-image {
            max-width: 100%;
            max-height: 240px;
            border-radius: 8px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .download-btn {
            position: absolute;
            top: 16px;
            right: 16px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
            display: none;
        }

        .image-results.has-content .download-btn {
            display: block;
        }

        .download-btn:hover {
            background: rgba(0, 0, 0, 0.9);
        }

        /* Chat Input Container */
        .chat-input-container {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            transition: all 0.2s ease;
        }

        .chat-input-container:focus-within {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        /* Attached Images */
        .attached-images {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 16px 16px 0 16px;
        }

        .attached-image {
            position: relative;
            width: 64px;
            height: 64px;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #e2e8f0;
            background: #f8fafc;
        }

        .attached-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .remove-attachment {
            position: absolute;
            top: -4px;
            right: -4px;
            width: 18px;
            height: 18px;
            background: #475569;
            color: white;
            border: 2px solid white;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            transition: background-color 0.2s ease;
        }

        .remove-attachment:hover {
            background: #334155;
        }

        /* Input Area */
        .input-area {
            position: relative;
        }

        .prompt-input {
            width: 100%;
            border: none;
            outline: none;
            padding: 16px;
            font-size: 16px;
            font-family: inherit;
            resize: none;
            min-height: 24px;
            max-height: 200px;
            color: #1e293b;
            background: transparent;
            line-height: 1.5;
        }

        .prompt-input::placeholder {
            color: #94a3b8;
        }

        /* Input Actions */
        .input-actions {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 12px 12px 16px;
            border-top: 1px solid #f1f5f9;
        }

        .input-left {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .attach-btn {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            border: 1px solid #f59e0b;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            font-weight: 600;
            transition: all 0.2s ease;
            box-shadow: 0 2px 6px rgba(245, 158, 11, 0.25);
        }

        .attach-btn:hover {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            border-color: #d97706;
            transform: translateY(-1px);
            box-shadow: 0 3px 8px rgba(245, 158, 11, 0.35);
        }

        .file-input {
            display: none;
        }

        .input-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .char-count {
            font-size: 12px;
            color: #94a3b8;
        }

        /* Replace your existing .send-btn style with this: */
.send-btn {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: 600;
    transition: all 0.2s ease;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

.send-btn:hover {
    background: linear-gradient(135deg, #0f172a 0%, #020617 100%);
    transform: translateY(-1px);
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
}

.send-btn:disabled {
    background: #94a3b8;
    cursor: not-allowed;
    box-shadow: none;
}

        /* Suggestions */
        .suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 16px;
            margin-bottom: 16px;
        }

        .suggestion {
            padding: 8px 12px;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            font-size: 13px;
            color: #475569;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .suggestion:hover {
            background: #f1f5f9;
            border-color: #cbd5e1;
        }

        /* Image Gallery */
        .image-gallery {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        .gallery-title {
            font-size: 1rem;
            font-weight: 600;
            color: #0f172a;
            margin-bottom: 16px;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 16px;
        }

        .gallery-item {
            position: relative;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 8px;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .gallery-item:hover {
            border-color: #3b82f6;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transform: translateY(-1px);
        }

        .gallery-item img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 8px;
        }

        .gallery-item-text {
            font-size: 12px;
            color: #64748b;
            line-height: 1.4;
        }

        .gallery-remove {
            position: absolute;
            top: 4px;
            right: 4px;
            width: 20px;
            height: 20px;
            background: #475569;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .gallery-remove:hover {
            background: #334155;
        }

        .empty-gallery {
            text-align: center;
            padding: 48px 24px;
            color: #94a3b8;
            font-style: italic;
        }

        /* Loading Animation */
        .loading-shimmer {
            background: linear-gradient(90deg, #f1f5f9 25%, #e2e8f0 50%, #f1f5f9 75%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
            border-radius: 8px;
            width: 100%;
            height: 240px;
        }

        @keyframes shimmer {
            0% {
                background-position: -200% 0;
            }
            100% {
                background-position: 200% 0;
            }
        }

        .loading-text {
            color: #64748b;
            text-align: center;
            margin-top: 16px;
            font-style: italic;
        }

        .loading-dots::after {
            content: '';
            animation: dots 1.5s infinite;
        }

        @keyframes dots {
            0%, 20% {
                content: '.';
            }
            40% {
                content: '..';
            }
            60%, 100% {
                content: '...';
            }
        }

        /* SEO Content Section */
        .seo-content {
            background: #f8fafc;
            padding: 48px 32px;
            margin: 48px 0;
            border-radius: 16px;
            text-align: center;
        }

        .seo-keywords {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin-top: 24px;
        }

        .seo-keyword {
            background: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 12px;
            color: #64748b;
            border: 1px solid #e2e8f0;
        }

        /* Banana accent elements */
        .banana-accent {
            color: #f59e0b;
            font-weight: 600;
        }

        .feature-icon.banana {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
        }

        /* Showcase Section */
        .showcase-section {
            margin: 64px 0;
        }

        .showcase-title {
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 16px;
        }

        .showcase-subtitle {
            text-align: center;
            color: #64748b;
            margin-bottom: 48px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .showcase-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
        }

        .showcase-item {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        .showcase-item h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #0f172a;
            margin-bottom: 16px;
            text-align: center;
        }

        .before-after {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 16px;
            align-items: center;
        }

        .image-placeholder {
            aspect-ratio: 1;
            background: #f1f5f9;
            border: 2px dashed #cbd5e1;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            font-size: 14px;
            text-align: center;
            padding: 16px;
        }

        .arrow-icon {
            width: 32px;
            height: 32px;
            background: #3b82f6;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
        }

        /* Features Section */
        .features-section {
            margin: 48px 0;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 48px;
        }

        .feature-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: all 0.2s ease;
        }

        .feature-card:hover {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .feature-icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            color: white;
            font-size: 24px;
        }

        .feature-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #0f172a;
            margin-bottom: 12px;
        }

        .feature-description {
            color: #64748b;
            line-height: 1.6;
        }

        /* Google Model Info */
        .model-info {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            color: white;
            padding: 48px 32px;
            border-radius: 16px;
            margin: 48px 0;
            text-align: center;
        }

        .model-info h2 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .model-info p {
            font-size: 1.125rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto 24px;
        }

        .model-badges {
            display: flex;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .model-badge {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Testimonials */
        .testimonials-section {
            margin: 48px 0;
        }

        .section-title {
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 48px;
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 24px;
        }

        .testimonial-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        .testimonial-text {
            color: #475569;
            font-style: italic;
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .author-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .author-info h4 {
            font-weight: 600;
            color: #0f172a;
            margin-bottom: 4px;
        }

        .author-info p {
            font-size: 0.875rem;
            color: #64748b;
        }

        /* FAQ Section */
        .faq-section {
            margin: 48px 0;
        }

        .faq-item {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            margin-bottom: 16px;
            overflow: hidden;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        .faq-question {
            width: 100%;
            padding: 20px 24px;
            background: none;
            border: none;
            text-align: left;
            font-size: 1rem;
            font-weight: 600;
            color: #0f172a;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .faq-question:hover {
            background: #f8fafc;
        }

        .faq-answer {
            padding: 0 24px 20px;
            color: #64748b;
            line-height: 1.6;
            display: none;
        }

        .faq-answer.active {
            display: block;
        }

        .faq-icon {
            transition: transform 0.2s ease;
        }

        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }

        /* Footer */
        .footer {
            background: #0f172a;
            color: white;
            margin-top: 64px;
            padding: 48px 0 24px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 48px;
            margin-bottom: 48px;
        }

        .footer-section h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
        }

        .footer-section p,
        .footer-section a {
            color: #cbd5e1;
            text-decoration: none;
            line-height: 1.6;
        }

        .footer-section a:hover {
            color: white;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 8px;
        }

        .footer-bottom {
            border-top: 1px solid #334155;
            padding-top: 24px;
            text-align: center;
            color: #94a3b8;
        }

        .social-links {
            display: flex;
            gap: 16px;
            margin-top: 16px;
        }

        .social-link {
            width: 40px;
            height: 40px;
            background: #334155;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: background-color 0.2s ease;
            font-weight: 600;
        }

        .social-link:hover {
            background: #475569;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 16px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .tab-content {
                padding: 24px;
            }

            .gallery-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 12px;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .testimonials-grid {
                grid-template-columns: 1fr;
            }

            .model-info {
                padding: 32px 24px;
            }

            .model-info h2 {
                font-size: 1.75rem;
            }

            .model-badges {
                gap: 8px;
            }

            .footer-grid {
                grid-template-columns: 1fr;
                gap: 32px;
            }

            .showcase-grid {
                grid-template-columns: 1fr;
            }

            .before-after {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .arrow-icon {
                transform: rotate(90deg);
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.75rem;
            }

            .tab-content {
                padding: 16px;
            }

            .suggestions {
                gap: 6px;
            }

            .suggestion {
                font-size: 12px;
                padding: 6px 10px;
            }

            .feature-card {
                padding: 20px;
            }

            .testimonial-card {
                padding: 20px;
            }

            .model-info {
                padding: 24px 16px;
            }

            .section-title {
                font-size: 1.75rem;
            }
        }
/* Add this CSS to your existing styles */

/* Peeled Banana Icon */
.peeled-banana-icon {
    width: 40px;
    height: 40px;
    position: relative;
    display: inline-block;
    margin-right: 16px;
}

.banana-body {
    width: 20px;
    height: 32px;
    background: linear-gradient(135deg, #fff4e6 0%, #fef3c7 50%, #fbbf24 100%);
    border-radius: 50% 50% 60% 40%;
    position: absolute;
    top: 8px;
    left: 10px;
    transform: rotate(-15deg);
    box-shadow: inset 1px 1px 3px rgba(0, 0, 0, 0.1);
}

.banana-peel-1 {
    width: 12px;
    height: 18px;
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    border-radius: 60% 40% 80% 20%;
    position: absolute;
    top: 6px;
    left: 5px;
    transform: rotate(-45deg);
    transform-origin: bottom center;
    box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.15);
}

.banana-peel-2 {
    width: 10px;
    height: 16px;
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    border-radius: 50% 50% 70% 30%;
    position: absolute;
    top: 8px;
    right: 8px;
    transform: rotate(30deg);
    transform-origin: bottom center;
    box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.15);
}

.banana-peel-3 {
    width: 8px;
    height: 14px;
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    border-radius: 40% 60% 60% 40%;
    position: absolute;
    top: 12px;
    left: 2px;
    transform: rotate(-75deg);
    transform-origin: bottom center;
    box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.15);
}

.banana-peel-4 {
    width: 9px;
    height: 15px;
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    border-radius: 50% 50% 80% 20%;
    position: absolute;
    top: 10px;
    right: 2px;
    transform: rotate(60deg);
    transform-origin: bottom center;
    box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.15);
}

/* Add brown spots on the banana body */
.banana-body::before {
    content: '';
    position: absolute;
    top: 8px;
    left: 6px;
    width: 3px;
    height: 3px;
    background: #92400e;
    border-radius: 50%;
    opacity: 0.6;
}

.banana-body::after {
    content: '';
    position: absolute;
    top: 15px;
    left: 10px;
    width: 2px;
    height: 2px;
    background: #92400e;
    border-radius: 50%;
    opacity: 0.6;
}

/* Site Header */
.site-header {
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    color: #1e293b;
    padding: 16px 0;
    margin-bottom: 24px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    border-bottom: 1px solid #e2e8f0;
}

.site-header .container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
}

.site-logo {
    display: flex;
    align-items: center;
    font-size: 1.5rem;
    font-weight: 700;
    text-decoration: none;
    color: #1e293b;
}

.site-logo:hover {
    color: #64748b;
}

.site-nav {
    display: flex;
    gap: 32px;
    align-items: center;
}

.site-nav a {
    color: #64748b;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s ease;
}

.site-nav a:hover {
    color: #1e293b;
}

.cta-button {
    background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
    color: #1e293b;
    padding: 10px 20px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.2s ease;
    border: 1px solid #cbd5e1;
    cursor: pointer;
}

.cta-button:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .site-header .container {
        flex-direction: column;
        gap: 16px;
        text-align: center;
    }
    
    .site-nav {
        gap: 24px;
        flex-wrap: wrap;
        justify-content: center;
    }
    
    .peeled-banana-icon {
        width: 36px;
        height: 36px;
        margin-right: 12px;
    }
}

@media (max-width: 480px) {
    .site-nav {
        gap: 16px;
        font-size: 0.9rem;
    }
    
    .cta-button {
        padding: 8px 16px;
        font-size: 0.9rem;
    }
}


/* Download button styling */
.download-btn {
    position: absolute;
    top: 16px;
    right: 16px;
    background: rgba(30, 41, 59, 0.9);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 8px 12px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.2s ease;
    display: none;
    backdrop-filter: blur(4px);
}

.image-results.has-content .download-btn {
    display: block;
}

.download-btn:hover {
    background: rgba(15, 23, 42, 0.95);
    transform: translateY(-1px);
}

.showcase-image {
    position: relative;
    aspect-ratio: 1;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid #e2e8f0;
    background: #f8fafc;
}

.showcase-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.2s ease;
}

.showcase-image:hover img {
    transform: scale(1.05);
}

.image-label {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 8px;
    font-size: 12px;
    text-align: center;
}

.loogo{
    height: 60px;
    width: 60px;
}

.editing-mode-banner {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    color: #475569;
    padding: 8px 12px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 10px;
    font-weight: 500;
    font-size: 14px;
    border: 1px solid rgba(226, 232, 240, 0.8);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.editing-mode-text {
    display: flex;
    align-items: center;
    gap: 6px;
}

.editing-mode-icon {
    font-size: 16px;
}

.clear-mode-btn {
    background: rgba(30, 41, 59, 0.1);
    backdrop-filter: blur(4px);
    border: 1px solid rgba(30, 41, 59, 0.2);
    color: #1e293b;
    padding: 4px 10px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 500;
    font-size: 13px;
    transition: all 0.2s ease;
}

.clear-mode-btn:hover {
    background: rgba(30, 41, 59, 0.15);
    border-color: rgba(30, 41, 59, 0.3);
}
/* Modal Styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.modal-content {
    background: white;
    border-radius: 8px;
    padding: 20px;
    max-width: 360px;
    width: 90%;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    animation: scaleIn 0.2s ease;
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.modal-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: #0f172a;
    margin-bottom: 10px;
}

.modal-text {
    color: #64748b;
    margin-bottom: 16px;
    line-height: 1.5;
    font-size: 14px;
}

.modal-buttons {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
}

.modal-btn {
    padding: 6px 14px;
    border-radius: 4px;
    font-weight: 500;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
}

.modal-btn-cancel {
    background: #f1f5f9;
    color: #64748b;
}

.modal-btn-cancel:hover {
    background: #e2e8f0;
}

.modal-btn-confirm {
    background: #1e293b;
    color: white;
}

.modal-btn-confirm:hover {
    background: #0f172a;
}

/* Edited image indicator in attached images */
.attached-image.edited-result {
    border: 2px solid #1e293b;
    position: relative;
}

.attached-image.edited-result::after {
    content: '✨';
    position: absolute;
    top: -6px;
    right: -6px;
    background: #1e293b;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
}



/* Image Popup Modal */
.image-popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    animation: popupFadeIn 0.3s ease;
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
}

@keyframes popupFadeIn {
    from { 
        opacity: 0; 
        backdrop-filter: blur(0px);
        -webkit-backdrop-filter: blur(0px);
    }
    to { 
        opacity: 1; 
        backdrop-filter: blur(4px);
        -webkit-backdrop-filter: blur(4px);
    }
}

.image-popup-content {
    position: relative;
    max-width: 90vw;
    max-height: 90vh;
    background: white;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    animation: popupScaleIn 0.3s ease;
}

@keyframes popupScaleIn {
    from {
        opacity: 0;
        transform: scale(0.8);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.image-popup-header {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    color: white;
    padding: 16px 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.image-popup-title {
    font-weight: 600;
    font-size: 1.125rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.image-popup-close {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: white;
    width: 36px;
    height: 36px;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: 600;
    transition: all 0.2s ease;
}

.image-popup-close:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: scale(1.05);
}

.image-popup-body {
    padding: 0;
    text-align: center;
    background: #f8fafc;
}

.image-popup-img {
    max-width: 100%;
    max-height: 70vh;
    width: auto;
    height: auto;
    display: block;
    margin: 0 auto;
}

.image-popup-footer {
    background: white;
    padding: 16px 20px;
    border-top: 1px solid #e2e8f0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
}

.image-popup-actions {
    display: flex;
    gap: 8px;
}

.popup-action-btn {
    background: #1e293b;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 6px;
}

.popup-action-btn:hover {
    background: #0f172a;
    transform: translateY(-1px);
}

.popup-action-btn.secondary {
    background: #f1f5f9;
    color: #64748b;
    border: 1px solid #e2e8f0;
}

.popup-action-btn.secondary:hover {
    background: #e2e8f0;
    color: #475569;
}

.image-popup-info {
    flex: 1;
    text-align: left;
    color: #64748b;
    font-size: 14px;
}

/* Responsive popup */
@media (max-width: 768px) {
    .image-popup-content {
        max-width: 95vw;
        max-height: 95vh;
        border-radius: 12px;
    }
    
    .image-popup-header {
        padding: 12px 16px;
    }
    
    .image-popup-title {
        font-size: 1rem;
    }
    
    .image-popup-footer {
        padding: 12px 16px;
        flex-direction: column;
        gap: 8px;
    }
    
    .image-popup-actions {
        width: 100%;
        justify-content: center;
    }
    
    .image-popup-info {
        text-align: center;
    }
    
    .image-popup-img {
        max-height: 60vh;
    }
}

/* Login Modal Styles */
.login-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 3000;
    animation: fadeIn 0.3s ease;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

.login-modal-content {
    background: white;
    border-radius: 16px;
    padding: 40px;
    max-width: 400px;
    width: 90%;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    animation: scaleIn 0.3s ease;
    text-align: center;
}

.login-modal-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #0f172a;
    margin-bottom: 16px;
}

.login-modal-text {
    color: #64748b;
    margin-bottom: 24px;
    line-height: 1.6;
}

.google-login-btn {
    background: #4285f4;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 12px 24px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 0 auto;
    box-shadow: 0 2px 8px rgba(66, 133, 244, 0.3);
}

.google-login-btn:hover {
    background: #3367d6;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(66, 133, 244, 0.4);
}

.skip-login-btn {
    background: transparent;
    color: #64748b;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    padding: 8px 16px;
    font-size: 14px;
    cursor: pointer;
    margin-top: 12px;
    transition: all 0.2s ease;
}

.skip-login-btn:hover {
    background: #f8fafc;
    border-color: #cbd5e1;
}

.credit-info {
    background: #fef3c7;
    border: 1px solid #fbbf24;
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 20px;
    font-size: 14px;
    color: #92400e;
}










.user-profile {
            position: relative;
        }

        .profile-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 2px solid rgba(99, 102, 241, 0.3);
            background: white;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .profile-btn:hover {
            border-color: #6366f1;
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
        }

        .profile-btn img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-menu {
            position: absolute;
            top: 52px;
            right: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
            border: 1px solid #e2e8f0;
            min-width: 220px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 300;
        }

        .profile-menu.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .profile-menu-header {
            padding: 16px 20px;
            border-bottom: 1px solid #f1f5f9;
        }

        .profile-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .profile-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            overflow: hidden;
        }

        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-details h3 {
            font-size: 16px;
            font-weight: 600;
            color: #1e293b;
            margin: 0;
        }

        .profile-details p {
            font-size: 14px;
            color: #64748b;
            margin: 2px 0 0 0;
        }

        .profile-menu-items {
            background: #FFF;
            padding: 8px 0;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            color: #475569;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.2s ease;
            cursor: pointer;
            z-index: 10000000000;
        }

        .menu-item:hover {
            background: #f8fafc;
            color: #1e293b;
        }

        .menu-item.danger:hover {
            background: #fef2f2;
            color: #dc2626;
        }

        .menu-icon {
            width: 18px;
            height: 18px;
            opacity: 0.7;
        }

/* Add these lines to your existing .profile-menu rule */
.profile-menu {
    /* ...your existing styles... */
    max-width: calc(100vw - 40px); /* ADD THIS */
    width: max-content; /* ADD THIS */
}


.menu-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 14px;
    font-weight: 500;
    border: none;
    background: none;
    width: 100%;
    text-align: left;
    color: #374151;
}

.menu-item:hover {
    background: #f3f4f6;
}

.menu-item.delete:hover {
    background: #fef2f2;
    color: #dc2626;
}

.menu-item svg {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
}
/* ADD these new media query rules */
@media (max-width: 768px) {
    .profile-menu {
        right: -50px;
        min-width: 200px;
        max-width: calc(100vw - 100px);
    }
}

@media (max-width: 480px) {
    .profile-menu {
        right: -55px;
        min-width: 180px;
        max-width: calc(100vw - 10px);
    }
}
        /* Responsive adjustments */
@media (max-width: 1024px) {
    .glass-header-content {
        padding: 0 16px;
    }
    
    .container {
        padding: 16px;
        padding-bottom: 120px;
    }
    
    .ai-selector-btn {
        padding: 10px 16px;
        font-size: 13px;
    }
}

@media (max-width: 768px) {
    body {
        padding-top: 60px;
    }
    
    .glass-header {
        padding: 12px 0;
    }
    
    .logo {
        font-size: 20px;
    }
    
    
    .profile-btn {
        width: 36px;
        height: 36px;
    }
    
    .container {
        padding: 12px;
        padding-bottom: 100px;
    }
    .user-message {
        font-size: 13;
    }
    
}

/* Hamburger Menu */
    /* Remove the media query that hides hamburger on desktop */

    @media (max-width: 768px) {
    body {
        padding-top: 60px;
    }
    
    .glass-header {
        padding: 12px 0;
    }
    
    .glass-header-content {
        padding: 0 12px; /* CHANGED: Reduced padding */
    }
    
    .logo {
        font-size: 18px;
    }
    
    .ai-selector-btn {
        padding: 8px 12px;
        font-size: 12px;
        /* KEEP IT VISIBLE */
    }
    
    .profile-btn {
        width: 36px;
        height: 36px;
    }
    
    .hamburger-btn {
        width: 36px;
        height: 36px;
    }
    
    .hamburger-line {
        width: 18px;
    }
    
    .container {
        padding: 12px;
        padding-bottom: 100px;
    }
    
    .header-right {
        gap: 8px; /* CHANGED: Smaller gap on mobile */
    }
    
    .header-left {
        gap: 12px; /* CHANGED: Smaller gap on mobile */
    }

    .user-message {
        font-size: 13;
    }
}

@media (max-width: 480px) {
    .glass-header-content {
        padding: 0 8px; /* CHANGED: Even less padding */
    }
    
    .ai-selector-btn {
        padding: 6px 8px; /* CHANGED: Smaller padding */
        font-size: 10px; /* CHANGED: Smaller font */
        white-space: nowrap; /* PREVENT text wrapping */
    }
    
    .ai-selector-btn span {
        /* Keep the count visible */
    }
    
    .header-right {
        gap: 6px;
    }
    
    .header-left {
        gap: 8px;
    }
    
    .logo {
        font-size: 16px; /* CHANGED: Smaller logo on very small screens */
    }

    .user-message {
        font-size: 13;
    }
}

/* Ultra small screens */
@media (max-width: 360px) {
    .ai-selector-btn {
        padding: 4px 6px;
        font-size: 9px;
    }
    
    .logo {
        font-size: 14px;
    }
}


        .menu-item.danger:hover {
            background: #fef2f2;
            color: #dc2626;
        }

 .logout-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.logout-overlay.show {
    opacity: 1;
    visibility: visible;
}


        .logout-modal {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    border-radius: 24px;
    padding: 40px;
    max-width: 480px;
    width: 90%;
    text-align: center;
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.15),
        0 8px 32px rgba(0, 0, 0, 0.1);
    transform: scale(0.9) translateY(20px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.logout-overlay.show .logout-modal {
    transform: scale(1) translateY(0);
}

.logout-icon {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 24px;
    position: relative;
    overflow: hidden;
}

.logout-icon::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    animation: shimmer 2s infinite;
}

.logout-icon svg {
    width: 40px;
    height: 40px;
    color: white;
    z-index: 2;
}

@keyframes shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

.logout-title {
    font-size: 28px;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 12px;
    letter-spacing: -0.5px;
}

.logout-subtitle {
    font-size: 16px;
    color: #6b7280;
    margin-bottom: 32px;
    line-height: 1.5;
}

.logout-actions {
    display: flex;
    gap: 16px;
    justify-content: center;
    flex-wrap: wrap;
}

.logout-btn {
    padding: 14px 32px;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    min-width: 140px;
}

.logout-btn-cancel {
    background: #f3f4f6;
    color: #374151;
    border: 2px solid #e5e7eb;
}

.logout-btn-cancel:hover {
    background: #e5e7eb;
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
}

.logout-btn-confirm {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
    border: 2px solid transparent;
}

.logout-btn-confirm:hover {
    background: linear-gradient(135deg, #dc2626, #b91c1c);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(239, 68, 68, 0.3);
}

.logout-btn:active {
    transform: translateY(0);
}

.logout-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
}

.logout-btn:hover::before {
    left: 100%;
}

/* Loading state */
.logout-btn.loading {
    pointer-events: none;
    opacity: 0.8;
}

.logout-btn.loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    border: 2px solid rgba(255,255,255,0.3);
    border-top: 2px solid white;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    animation: logoutspin 1s linear infinite;
}

@keyframes logoutspin {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
}

/* Responsive design */
@media (max-width: 480px) {
    .logout-modal {
        padding: 32px 24px;
        margin: 20px;
    }
    
    .logout-actions {
        flex-direction: column;
    }
    
    .logout-btn {
        width: 100%;
    }
    
    .logout-title {
        font-size: 24px;
    }
}



.logout-success {
    animation: successPulse 0.6s ease-out;
}


/* Image Suggestions */
.image-suggestions {
    display: flex;
    gap: 16px;
    margin: 16px 0;
    overflow-x: auto;
    scroll-behavior: smooth;
    padding: 8px 0;
    scrollbar-width: thin;
    scrollbar-color: #cbd5e1 transparent;
}

.image-suggestions::-webkit-scrollbar {
    height: 6px;
}

.image-suggestions::-webkit-scrollbar-track {
    background: transparent;
}

.image-suggestions::-webkit-scrollbar-thumb {
    background-color: #cbd5e1;
    border-radius: 3px;
}

.image-suggestions::-webkit-scrollbar-thumb:hover {
    background-color: #94a3b8;
}

.suggestion-item {
    flex: 0 0 auto;
    width: 140px;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.suggestion-item:hover {
    border-color: #3b82f6;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
    transform: translateY(-2px);
}

.suggestion-image {
    width: 100%;
    height: 100px;
    overflow: hidden;
    background: #f8fafc;
}

.suggestion-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.2s ease;
}

.suggestion-item:hover .suggestion-image img {
    transform: scale(1.05);
}

.suggestion-label {
    padding: 8px 12px 4px;
    font-size: 12px;
    font-weight: 500;
    color: #475569;
    text-align: center;
}

.select-btn {
    width: calc(100% - 16px);
    margin: 0 8px 8px;
    padding: 6px 12px;
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 11px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.select-btn:hover {
    background: linear-gradient(135deg, #0f172a 0%, #020617 100%);
    transform: translateY(-1px);
}

/* Mobile responsive */
@media (max-width: 768px) {
    .suggestion-item {
        width: 120px;
    }
    
    .suggestion-image {
        height: 80px;
    }
    
    .suggestion-label {
        font-size: 11px;
        padding: 6px 8px 4px;
    }
    
    .select-btn {
        padding: 5px 8px;
        font-size: 10px;
        margin: 0 6px 6px;
        width: calc(100% - 12px);
    }
}


/* Trending Prompts Header */
.trending-header {
    margin: 24px 0 12px 0;
    text-align: left;
}

.trending-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: #0f172a;
    margin: 0 0 4px 0;
    display: flex;
    align-items: center;
    gap: 8px;
}

.trending-title::before {
    content: '🔥';
    font-size: 1rem;
}

.trending-subtitle {
    font-size: 0.875rem;
    color: #64748b;
    margin: 0;
}

/* Optional: Add trending indicator to suggestion items */
.suggestion-item {
    position: relative;
}

/*.suggestion-item:nth-child(-n+3)::before {
    content: '🔥';
    position: absolute;
    top: 6px;
    right: 6px;
    background: rgba(239, 68, 68, 0.9);
    color: white;
    font-size: 10px;
    padding: 2px 4px;
    border-radius: 8px;
    z-index: 2;
    backdrop-filter: blur(4px);
}
*/
/* Mobile adjustments */
@media (max-width: 768px) {
    .trending-header {
        margin: 20px 0 8px 0;
    }
    
    .trending-title {
        font-size: 1rem;
    }
    
    .trending-subtitle {
        font-size: 0.8125rem;
    }
}



/* Credit Counter Styles */
/* Credit Counter Styles */
.credit-counter {
    margin: 16px auto 0 auto;
    padding: 12px 20px;
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    border: 1px solid #cbd5e1;
    border-radius: 12px;
    display: inline-block;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    width: fit-content;
    max-width: 100%;
}

.credit-counter:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.credit-display {
    display: flex;
    align-items: center;
    gap: 8px;
    white-space: nowrap;
}

.credit-label {
    font-size: 0.875rem;
    font-weight: 600;
    color: #475569;
}

.credit-count {
    font-size: 1rem;
    font-weight: 700;
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.credit-count.loading {
    background: linear-gradient(135deg, #94a3b8 0%, #64748b 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* Buy Credits Button */
.buy-credits-btn {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 6px 12px;
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
    text-decoration: none;
    border-radius: 8px;
    font-size: 0.75rem;
    font-weight: 600;
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(245, 158, 11, 0.3);
    margin-left: 12px;
}

.buy-credits-btn:hover {
    background: linear-gradient(135deg, #d97706 0%, #b45309 100%);
    transform: translateY(-1px);
    box-shadow: 0 3px 6px rgba(245, 158, 11, 0.4);
    text-decoration: none;
    color: white;
}

.crown-icon {
    font-size: 0.875rem;
    filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.2));
}

/* Mobile responsiveness for credit counter */
@media (max-width: 480px) {
    .credit-display {
        flex-wrap: wrap;
        justify-content: center;
        gap: 8px;
    }
    
    .buy-credits-btn {
        margin-left: 0;
        font-size: 0.7rem;
        padding: 5px 10px;
    }
}
    </style>
</head>
<body>

    <!-- Login Required Modal -->
<div id="loginModal" class="login-modal-overlay" style="display: none;">
    <div class="login-modal-content">
        <div class="login-modal-title">🎨 Continue Creating</div>
        <div class="credit-info">
            ✨ Login to continue! 
        </div>
        <div class="login-modal-text">
            Sign in with Google to get unlimited image generations and access premium features.
        </div>
        <button class="google-login-btn" onclick="loginWithGoogle()" id = "loginbuttonid1">
            <span>G</span>
            Continue with Google
        </button>
        <button class="skip-login-btn" onclick="closeLoginModal()">Maybe Later</button>
    </div>
</div>



<div class="logout-overlay" id="logoutOverlay">
    <div class="logout-modal">
        <div class="logout-icon">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                      d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
            </svg>
        </div>
        
        <h2 class="logout-title">Sign Out</h2>
        <p class="logout-subtitle">
            Are you sure you want to sign out? You'll need to sign in again to access your account.
        </p>
        
        <div class="logout-actions">
            <button class="logout-btn logout-btn-cancel" onclick="hideLogoutConfirmation()">
                Cancel
            </button>
            <button class="logout-btn logout-btn-confirm" onclick="confirmLogout()" id="confirmLogoutBtn">
                Sign Out
            </button>
        </div>
    </div>
</div>

<div id="clearModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <div class="modal-title">Start New Generation?</div>
        <div class="modal-text">This will clear your current editing session and start fresh. Your current generated image will be lost.</div>
        <div class="modal-buttons">
            <button class="modal-btn modal-btn-cancel" onclick="closeClearModal()">Cancel</button>
            <button class="modal-btn modal-btn-confirm" onclick="confirmClearEditingMode()">Clear & Start New</button>
        </div>
    </div>
</div>
    <!-- Site Header -->
<header class="site-header">
    <div class="container">
        <a href="#" class="site-logo">
           <img class="loogo" src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/banana-decoration.png?alt=media&token=1fc2e419-14a2-46a8-b8e9-bb056a561ec2">

            Nano Banana
        </a>
        
        <nav class="site-nav">
<!--             <a href="/remove-background">Features</a>
 -->            <a href="/remove-background">Background Remover</a>
            <a href="/pricing">Pricing</a>
          
            <div class="user-profile">
                <div class="profile-btn" onclick="toggleProfileMenu()">
                    <img src="https://chatezzy.com/generated_images/gemini_1111_req_1754245880468_ktzofzepi_1_20250803_183127.png" alt="Profile" id="headerProfileImg">
                </div>
                <div class="profile-menu" id="profileMenu">
                    <div class="profile-menu-header">
                        <div class="profile-info">
                            <div class="profile-avatar">
                                <img src="https://chatezzy.com/generated_images/gemini_1111_req_1754245880468_ktzofzepi_1_20250803_183127.png" alt="Profile" id="menuProfileImg">
                            </div>
                            <div class="profile-details">
                                <h3 id="profileName">Loading...</h3>
                                <p id="profileEmail">Loading...</p>
                            </div>
                        </div>
                    </div>
                    <div class="profile-menu-items">
                        <!-- <a href="/profile" class="menu-item">
                            <svg class="menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                            </svg>
                            Profile Settings
                        </a>
                        <a href="#" class="menu-item mobile-theme-toggle" onclick="toggleTheme(); event.preventDefault();">
                            <svg class="menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
                            </svg>
                            <span id="mobileThemeText">Dark Mode</span>
                        </a> -->
                        <!-- <a href="#" class="menu-item">
                            <svg class="menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                            Chat History
                        </a>
                        <a href="#" class="menu-item">
                            <svg class="menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                            Preferences
                        </a> -->
                        <a href="https://chatezzy.com/pricing" target="_blank" class="menu-item" id="premiumMenuItem">
                            <svg class="menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                            </svg>
                            Pricing
                        </a>
                        <a href="https://chatezzy.com/support"  target="_blank" class="menu-item" target="_blank" rel="noopener noreferrer">
                            <svg class="menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            Help & Support
                        </a>
                        <div style="height: 1px; background: #e2e8f0; margin: 8px 0;"></div>
                        <button type="button" class="menu-item danger" id="auth-button" onclick="handleAuthAction()">
                            <svg class="menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                            </svg>
                            <span id="auth-button-text">Sign Out</span>
                        </button>

                </div>
            </div>

</div>
        </nav>
    </div>
</header>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Nano Banana</h1>
            <p>Professional AI Image Generation Platform</p>
            <!-- Credit Counter Section -->
            <div class="credit-counter" id="creditCounter" style="display: none;">
                <div class="credit-display">
                    <span class="credit-label">Remaining Images:</span>
                    <span class="credit-count" id="creditCount">Loading...</span>
                    <a href="/pricing" target="_blank" rel="noopener noreferrer" class="buy-credits-btn">
                    <span class="crown-icon">👑</span>
                    Buy Credits
                </a>
                </div>
            </div>
        </div>

        <!-- Main Card -->
        <div class="main-card">
            <!-- Tabs -->
         <!--    <div class="tabs">
                <button class="tab active" onclick="switchTab('edit')">Edit</button>
                <button class="tab" onclick="switchTab('generations')">Generations</button>
            </div> -->

            <!-- Edit Tab -->
            <div id="edit-tab" class="tab-pane active">
                <div class="tab-content">
                    <!-- Image Results -->
                    <div class="image-results" id="image-results">
                        <div class="placeholder-text">Generated images will appear here</div>
                    </div>

                    <!-- Chat Input -->
                    <div class="chat-input-container" id="chat-container">
                        <!-- Attached Images -->
                        <div class="attached-images" id="attached-images" style="display: none;"></div>
                        
                        <!-- Input Area -->
                        <div class="input-area">
                            <textarea 
                                id="prompt-input" 
                                class="prompt-input" 
                                placeholder="Ask anything..."
                                oninput="handleInput()"
                                onkeydown="handleKeyDown(event)"
                            ></textarea>
                        </div>

                        <!-- Input Actions -->
                        <div class="input-actions">
                            <div class="input-left">
                                <button class="attach-btn" onclick="triggerFileUpload()">
                                    +
                                </button>
                                <input 
                                    type="file" 
                                    id="file-input" 
                                    class="file-input" 
                                    accept="image/*" 
                                    multiple 
                                    onchange="handleFileUpload(this)"
                                >
                            </div>
                            <div class="input-right">
                                <span class="char-count" id="char-count"></span>
                                <button class="send-btn" id="send-btn" onclick="generateImage()">
                                    ↑
                                </button>
                            </div>
                        </div>
                    </div>

<div class="trending-header">
    <h3 class="trending-title">Trending Prompts</h3>
    <div class="trending-subtitle">Popular AI image generations this week</div>
</div>
<div class="image-suggestions">
    <div class="suggestion-item" onclick="useSuggestion('Create a 1/7 scale commercialized figurine of the characters in the picture, while maintaining the original face with no alterations, in a realistic style, in a real environment. The figurine is placed on a computer desk. The figurine has a round transparent acrylic base, with no text on the base. The content on the computer screen is a 3D modeling process of this figurine. Next to the computer screen is a toy packaging box, designed in a style reminiscent of high-quality collectible figures, printed with original artwork. The packaging features two-dimensional flat illustrations.')">
        <div class="suggestion-image">
            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/unnamed.png?alt=media&token=57fbceaa-a9d4-4335-b87b-2815f2ab6213" alt="AI 3D figurine creator - transform photos to collectible figures">
        </div>
        <div class="suggestion-label">The Classic 3D</div>
        <button class="select-btn">Select</button>
    </div>

     <div class="suggestion-item" onclick="useSuggestion('Transform this photo into a Soviet-era portrait with appropriate clothing, background featuring Red Square or Soviet architecture, vintage color grading from the 1960s-80s. Make it look authentic to that period with historically accurate fashion and setting. Preserve the original face completely - no changes to facial features, skin tone, or expression.')">
        <div class="suggestion-image">
            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/nano_banana_2025-09-14T14-44-08.png?alt=media&token=b6e167cb-8902-46c8-bb7b-7e667fad6dd3" alt="Soviet era portrait filter - vintage USSR style transformation">
        </div>
        <div class="suggestion-label">Soviet-Era Retro</div>
        <button class="select-btn">Select</button>
    </div>
    
    <div class="suggestion-item" onclick="useSuggestion('Create a 90s retro-inspired portrait of this person. The face is the central focus and is kept completely realistic. The person is wearing a shimmering black chiffon saree against a deep wall with dramatic shadows, lit by golden-hour tones. The expression is calm yet mysterious, evoking old Bollywood posters.')">
        <div class="suggestion-image">
            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/nano_banana_2025-09-14T14-30-55.png?alt=media&token=62b7573b-a156-45f9-a8c3-e95591cd5b41" alt="Vintage Bollywood saree portrait generator using AI">
        </div>
        <div class="suggestion-label">Vintage Saree</div>
        <button class="select-btn">Select</button>
    </div>

    <div class="suggestion-item" onclick="useSuggestion('Turn this photo into a vintage Polaroid instant film picture, white border frame, slight blur, soft flash lighting, warm nostalgic tones, subtle film grain and texture')">
        <div class="suggestion-image">
            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/nano_banana_2025-09-14T14-33-54.png?alt=media&token=f44eb7c1-c09a-4117-85cf-d1b79941ee39" alt="Polaroid instant film effect - retro photo filter">
        </div>
        <div class="suggestion-label">Classic Polaroid</div>
        <button class="select-btn">Select</button>
    </div>
    
    <div class="suggestion-item" onclick="useSuggestion('Turn this person into an anime-style Nano Banana figurine, standing in a heroic pose with a glowing sword. Keep the original face with no changes. The character has spiky neon hair and dramatic wind-swept clothing inspired by shōnen anime. Cosmic galaxy background with neon streaks of purple and blue. Stylized outlines, high-energy mood.')">
        <div class="suggestion-image">
            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/unnamed%20(2).png?alt=media&token=08cd19fa-0f68-4bac-b3b8-bc24709ced10" alt="Anime character creator - transform photos to manga style">
        </div>
        <div class="suggestion-label">Anime Hero</div>
        <button class="select-btn">Select</button>
    </div>
    
    
    
    <div class="suggestion-item" onclick="useSuggestion('Create a cyberpunk figurine of this person. Keep the original face with no changes, while the body is transformed with neon-lit armor and glowing circuit patterns. The arms and eyes have cybernetic enhancements pulsing in electric blue and magenta. Background: futuristic city skyline with holographic billboards and neon rain. Sleek metallic textures, glowing aura.')">
        <div class="suggestion-image">
            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/unnamed%20(4).png?alt=media&token=44cd73ff-f8ab-486a-a05f-550e5c5e77c8" alt="Cyberpunk avatar generator - futuristic character design">
        </div>
        <div class="suggestion-label">Cyberpunk Avatar</div>
        <button class="select-btn">Select</button>
    </div>
    
    <div class="suggestion-item" onclick="useSuggestion('LinkedIn headshot, professional attire, blurred office background. Keep the original face unaltered - maintain exact facial features, skin tone, and natural expression.')">
        <div class="suggestion-image">
            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/nano_banana_2025-09-14T14-38-16.png?alt=media&token=351385cf-c4cc-4f03-85e5-faa83c6a8b29" alt="Professional LinkedIn headshot generator using AI">
        </div>
        <div class="suggestion-label">LinkedIn Headshot</div>
        <button class="select-btn">Select</button>
    </div>

   
    
    <div class="suggestion-item" onclick="useSuggestion('Transform this image into a collectible figurine inspired by Russian Matryoshka doll aesthetics, with traditional floral patterns and bright colors, but maintaining realistic human proportions. Place on decorative base with Russian folk art elements. Maintain the original face exactly as shown - no stylization of facial features, keep realistic face unchanged.')">
        <div class="suggestion-image">
            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/nano_banana_2025-09-14T14-50-43.png?alt=media&token=ec46d836-2f71-41ac-8f5d-82a6d23eca45" alt="Russian Matryoshka doll creator - folk art style transformation">
        </div>
        <div class="suggestion-label">Matryoshka Doll</div>
        <button class="select-btn">Select</button>
    </div>

    <!-- <div class="suggestion-item" onclick="useSuggestion('Professional headshot with soft studio lighting')">
        <div class="suggestion-image">
            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/thai-young-girl-with-bangkok-city-background-generative-ai_849906-22389.jpg?alt=media&token=03bc6173-f5ed-4148-a2e7-28387e2aab28" alt="Portrait">
        </div>
        <div class="suggestion-label">Portrait</div>
        <button class="select-btn">Select</button>
    </div>
    
    <div class="suggestion-item" onclick="useSuggestion('Beautiful sunset landscape with mountains')">
        <div class="suggestion-image">
            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/Gemini_Generated_Image_h99lthh99lthh99l%20(1).png?alt=media&token=49f5da61-639b-45d5-b037-3c66d831723f" alt="Landscape">
        </div>
        <div class="suggestion-label">Landscape</div>
        <button class="select-btn">Select</button>
    </div>

    <div class="suggestion-item" onclick="useSuggestion('Professional headshot with soft studio lighting')">
        <div class="suggestion-image">
            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/thai-young-girl-with-bangkok-city-background-generative-ai_849906-22389.jpg?alt=media&token=03bc6173-f5ed-4148-a2e7-28387e2aab28" alt="Portrait">
        </div>
        <div class="suggestion-label">Portrait</div>
        <button class="select-btn">Select</button>
    </div>
    
    <div class="suggestion-item" onclick="useSuggestion('Beautiful sunset landscape with mountains')">
        <div class="suggestion-image">
            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/Gemini_Generated_Image_h99lthh99lthh99l%20(1).png?alt=media&token=49f5da61-639b-45d5-b037-3c66d831723f" alt="Landscape">
        </div>
        <div class="suggestion-label">Landscape</div>
        <button class="select-btn">Select</button>
    </div> -->
</div>
                    <!-- Image Gallery -->
                    <div class="image-gallery">
                        <div class="gallery-title">Recent Images (Up to 5)</div>
                        <div class="gallery-grid" id="gallery-grid">
                            <div class="empty-gallery">No images generated yet</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Generations Tab -->
            <div id="generations-tab" class="tab-pane">
                <div class="tab-content">
                    <div class="image-results">
                        <div class="placeholder-text">View all your generation history here</div>
                    </div>
                    <div class="image-gallery">
                        <div class="gallery-title">All Generations</div>
                        <div class="gallery-grid">
                            <div class="empty-gallery">No generation history available</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SEO Content Section -->
        <div class="seo-content">
            <h2>Revolutionary <span class="banana-accent">Nano Banana</span> Technology</h2>
            <p>Experience the power of Google's advanced <strong>nano banana</strong> AI technology. Our platform combines cutting-edge artificial intelligence with innovative <em>nano banana algorithms</em> to deliver unparalleled image generation capabilities. Whether you're searching for "google nano banana" solutions or professional AI art creation, our <strong>nano banana technology</strong> provides enterprise-grade results for businesses and creative professionals worldwide.</p>
            <div class="seo-keywords">
                <div class="seo-keyword">Google Nano Banana</div>
                <div class="seo-keyword">Nano Banana AI</div>
                <div class="seo-keyword">Nano Banana Technology</div>
                <div class="seo-keyword">Google AI Art Generator</div>
                <div class="seo-keyword">Professional Image Creation</div>
                <div class="seo-keyword">Enterprise AI Solutions</div>
                <div class="seo-keyword">Nano Banana Generator</div>
                <div class="seo-keyword">Google Nano Banana API</div>
            </div>
        </div>

        <!-- Showcase Section -->
        <div class="showcase-section">
            <h2 class="showcase-title">See <span class="banana-accent">Nano Banana</span> in Action</h2>
            <p class="showcase-subtitle">Professional AI image generation that transforms your ideas into stunning visuals using Google's revolutionary nano banana technology. See real examples of our advanced capabilities.</p>
            
            <div class="showcase-grid">
                <div class="showcase-item">
                    <h3>Portrait Enhancement with Nano Banana</h3>
                    <div class="before-after">
                        <div class="showcase-image">
                            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/Screenshot%20from%202025-09-10%2023-50-48.png?alt=media&token=c4a05d41-44c5-4567-b4a4-211ceae40d9a" alt="Original Photo">
<!--                             <div class="image-label">Original Photo</div>
 -->                        </div>
                        <div class="arrow-icon">→</div>
                        <div class="showcase-image">
                            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/Screenshot%20from%202025-09-10%2023-50-57.png?alt=media&token=38f0b473-2fef-44d7-b58f-a3faa515b633" alt="Enhanced Portrait">
<!--                             <div class="image-label">Nano banana quality</div>
 -->                        </div>
                    </div>
                </div>

                <div class="showcase-item">
                    <h3>Logo Generation</h3>
                    <div class="before-after">
                        <div class="showcase-image">
<!--                             <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/Screenshot%20from%202025-09-10%2023-50-48.png?alt=media&token=c4a05d41-44c5-4567-b4a4-211ceae40d9a" alt="Original Photo">
 -->                            <div class="image-label">                         Minimalist logo design for a tech startup</div>
                        </div>
                        <div class="arrow-icon">→</div>
                        <div class="showcase-image">
                            <img src="https://chatezzy.com/generated_images/dalle_5_req_1757528785776_8h5pml6lj_1_20250910_182633.png" alt="Enhanced Portrait">
<!--                             <div class="image-label">Nano banana quality</div>
 -->                        </div>
                    </div>
                </div>

                <div class="showcase-item">
                    <h3>Product Photography</h3>
                    <div class="before-after">
                         <!--  -->
                        <div class="showcase-image">
                            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/Gemini_Generated_Image_jpbvo1jpbvo1jpbv.png?alt=media&token=fc91f090-eb95-4677-a62f-8a4e9e60fbee" alt="Enhanced Portrait">
<!--                             <div class="image-label">Nano banana quality</div>
 -->                        </div>

                          <br> </br>

                         <div class="showcase-image">
                            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/Gemini_Generated_Image_lij92zlij92zlij9.png?alt=media&token=9b78b375-6b20-405b-b2f8-084a2435c0ae" alt="Enhanced Portrait">
<!--                             <div class="image-label">Nano banana quality</div>
 -->                        </div>
                    </div>
                </div>

                <div class="showcase-item">
                    <h3>Concept Art Creation</h3>
                    <div class="before-after">
                         <div class="showcase-image">
                            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/Gemini_Generated_Image_5hespo5hespo5hes.png?alt=media&token=ba9de57c-ac87-4f92-92e3-a3ad516d884f" alt="Original Photo">
<!--                             <div class="image-label">Original Photo</div>
 -->                        </div>
                        <br ></br>
                        <div class="showcase-image">
                            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/Gemini_Generated_Image_fgs3k6fgs3k6fgs3.png?alt=media&token=d4f0146c-8fae-4d97-9a52-56b306bcf4c1" alt="Enhanced Portrait">
<!--                             <div class="image-label">Nano banana quality</div>
 -->                        </div>
                    </div>
                </div>

                <div class="showcase-item">
                    <h3>Background Replacement</h3>
                    <div class="before-after">
                         <div class="showcase-image">
                            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/thai-young-girl-with-bangkok-city-background-generative-ai_849906-22389.jpg?alt=media&token=03bc6173-f5ed-4148-a2e7-28387e2aab28" alt="Original Photo">
<!--                             <div class="image-label">Original Photo</div>
 -->                        </div>
                        <div class="arrow-icon">→</div>
                        <div class="showcase-image">
                            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/Gemini_Generated_Image_cj58gicj58gicj58.png?alt=media&token=6d808356-5b0c-4b1f-a6aa-77950259234b" alt="Enhanced Portrait">
<!--                             <div class="image-label">Nano banana quality</div>
 -->                        </div>
                    </div>
                </div>

                <div class="showcase-item">
                    <h3>Style Transfer</h3>
                    <div class="before-after">
                         <div class="showcase-image">
                            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/Gemini_Generated_Image_h99lthh99lthh99l%20(1).png?alt=media&token=49f5da61-639b-45d5-b037-3c66d831723f" alt="Original Photo">
<!--                             <div class="image-label">Original Photo</div>
 -->                        </div>
                        <div class="arrow-icon">→</div>
                        <div class="showcase-image">
                            <img src="https://firebasestorage.googleapis.com/v0/b/videos-downloader-13024.appspot.com/o/Screenshot%20from%202025-09-11%2001-11-57.png?alt=media&token=07a3f167-7508-403b-8039-0fd9f99ad01b" alt="Enhanced Portrait">
<!--                             <div class="image-label">Nano banana quality</div>
 -->                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Features Section -->
        <div class="features-section">
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon banana">🚀</div>
                    <div class="feature-title">Advanced <span class="banana-accent">Nano Banana</span> Processing</div>
                    <div class="feature-description">Lightning-fast image generation powered by Google's revolutionary nano banana algorithms. Experience professional-quality results in seconds with our enterprise-grade nano banana technology.</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🎯</div>
                    <div class="feature-title">Precision Control</div>
                    <div class="feature-description">Fine-tune every aspect with our advanced nano banana technology parameters. Professional-grade control for enterprise applications and creative workflows.</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📱</div>
                    <div class="feature-title">Cross-Platform Ready</div>
                    <div class="feature-description">Seamless nano banana experience across all devices. Optimized for both desktop and mobile professional workflows with responsive design.</div>
                </div>
            </div>
        </div>

        <!-- Google Model Info -->
        <div class="model-info">
            <h2>Powered by Google's Revolutionary <span style="color: #fbbf24;">Nano Banana</span> AI</h2>
            <p>Our platform leverages Google's groundbreaking <strong>nano banana technology</strong> - the most advanced AI image generation system available. This cutting-edge <em>google nano banana</em> integration delivers professional-quality results with enterprise-grade reliability, security, and performance that exceeds industry standards.</p>
            <div class="model-badges">
                <div class="model-badge">Google Nano Banana Technology</div>
                <div class="model-badge">Real-time Processing</div>
                <div class="model-badge">High-Resolution Output</div>
                <div class="model-badge">Enterprise Security</div>
                <div class="model-badge">API Integration</div>
                <div class="model-badge">24/7 Availability</div>
            </div>
        </div>

        <!-- Testimonials -->
        <div class="testimonials-section">
            <h2 class="section-title">Trusted by Professionals Using <span class="banana-accent">Nano Banana</span></h2>
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "The Googlenanobanana.com technology in this platform is revolutionary. As a creative professional, I've never seen such accurate and fast AI image generation. Nano Banana has become essential to our workflow."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">SJ</div>
                        <div class="author-info">
                            <h4>Sarah Johnson</h4>
                            <p>Creative Director at PixelWorks</p>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "When I search for 'nano banana AI solutions', this platform consistently delivers the best results. The integration with Google's nano banana technology is seamless and professional-grade."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">MR</div>
                        <div class="author-info">
                            <h4>Michael Rodriguez</h4>
                            <p>Senior Content Strategist</p>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "The nano banana technology provides unmatched accuracy and detail. It's like having a professional design team powered by Google's most advanced AI available 24/7."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">EL</div>
                        <div class="author-info">
                            <h4>Emily Liu</h4>
                            <p>Marketing Director at TechFlow</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FAQ Section -->
        <div class="faq-section">
            <h2 class="section-title">Frequently Asked Questions About <span class="banana-accent">Nano Banana</span></h2>
            
            <div class="faq-item">
                <button class="faq-question" onclick="toggleFaq(this)">
                    What is Google Nano Banana technology and how does it work?
                    <span class="faq-icon">▼</span>
                </button>
                <div class="faq-answer">
                    Google Nano Banana is an advanced AI image generation technology that combines machine learning algorithms with innovative processing techniques. Our nano banana platform leverages this cutting-edge Google technology to deliver professional-quality image generation with unprecedented speed, accuracy, and creative control for enterprise applications.
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question" onclick="toggleFaq(this)">
                    How does Nano Banana compare to other AI image generators?
                    <span class="faq-icon">▼</span>
                </button>
                <div class="faq-answer">
                    Nano Banana is powered by Google's exclusive nano banana technology, ensuring superior image quality and faster generation times. Our professional interface is designed for enterprise users, offering advanced nano banana algorithms that deliver consistently better results than standard AI generators, with enterprise-grade security and reliability.
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question" onclick="toggleFaq(this)">
                    What are the pricing plans for nano banana technology?
                    <span class="faq-icon">▼</span>
                </button>
                <div class="faq-answer">
                    We offer flexible pricing tiers for nano banana technology to suit different needs. Professional users can access unlimited high-resolution nano banana generations with our premium plans. Contact our sales team for enterprise nano banana pricing and custom Google AI integration solutions.
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question" onclick="toggleFaq(this)">
                    Can I use nano banana generated images for commercial purposes?
                    <span class="faq-icon">▼</span>
                </button>
                <div class="faq-answer">
                    Yes, all images generated through our nano banana platform can be used for both personal and commercial purposes. You retain full rights to the nano banana created content, with no additional licensing fees or restrictions on commercial usage.
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question" onclick="toggleFaq(this)">
                    What file formats and resolutions does nano banana support?
                    <span class="faq-icon">▼</span>
                </button>
                <div class="faq-answer">
                    Nano Banana supports JPG, PNG, and WebP formats for input. Generated images are available in multiple resolutions up to 4K using our advanced nano banana processing, with options to download in various formats including high-quality PNG and professional-grade TIFF for enterprise applications.
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question" onclick="toggleFaq(this)">
                    How secure is my data with nano banana technology?
                    <span class="faq-icon">▼</span>
                </button>
                <div class="faq-answer">
                    We prioritize enterprise-level security with our nano banana platform. All data is encrypted in transit and at rest, with SOC 2 compliance and GDPR adherence. Google's nano banana technology includes built-in security features, and we never store or share your content without explicit permission.
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3><span class="banana-icon"></span>Nano Banana</h3>
                    <p>Professional Google AI image generation platform powered by revolutionary <strong>nano banana technology</strong>. Experience the future of AI-driven creative workflows with enterprise-grade <em>google nano banana</em> solutions designed for professionals and businesses worldwide.</p>
                    <div class="social-links">
                        <a href="#" class="social-link">f</a>
                        <a href="#" class="social-link">t</a>
                        <a href="#" class="social-link">in</a>
                        <a href="#" class="social-link">ig</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>Nano Banana Product</h3>
                    <ul class="footer-links">
                        <li><a href="#">Nano Banana Features</a></li>
                        <li><a href="/pricing">Pricing & Plans</a></li>
                        <li><a href="#">Google Nano Banana API</a></li>
                        <li><a href="#">Integration Guide</a></li>
                        <li><a href="#">Enterprise Solutions</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Company</h3>
                    <ul class="footer-links">
                        <li><a href="#">About Nano Banana</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Press & Media</a></li>
                        <li><a href="#">Contact Sales</a></li>
                        <li><a href="#">Partner Program</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Support</h3>
                    <ul class="footer-links">
                        <li><a href="#">Nano Banana Help Center</a></li>
                        <li><a href="#">Developer Community</a></li>
                        <li><a href="#">System Status</a></li>
                        <li><a href="/privacy">Privacy Policy</a></li>
                        <li><a href="/termsconditions">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Nano Banana. All rights reserved. Powered by Google Nano Banana AI Technology.</p>
            </div>
        </div>
    </footer>

    <script>
function handleAuthAction() {
    const authToken = localStorage.getItem('authToken');
    
    if (authToken) {
        // User is signed in, handle sign out
        handleSignOut();
    } else {
        // User is not signed in, handle sign in
        showLoginModal();
    }
}

function updateAuthButton() {
    const authToken = localStorage.getItem('authToken');
    const authButtonText = document.getElementById('auth-button-text');
    
    if (authToken) {
        authButtonText.textContent = 'Sign Out';
    } else {
        authButtonText.textContent = 'Sign In';
    }
}

// Update button text when page loads
document.addEventListener('DOMContentLoaded', updateAuthButton);

// Optional: Update button when localStorage changes (if you want real-time updates)
window.addEventListener('storage', updateAuthButton);
</script>

    <script>
        // Global state
        let attachedImages = [];
        let generatedImages = [];
        const maxImages = 5;
        const maxChars = 1000;

        let editingMode = false;
let currentEditingImage = null;

// Load state from localStorage on page load
window.addEventListener('DOMContentLoaded', function() {
    loadStateFromStorage();
    handleInput();
});

// Save state to localStorage
function saveStateToStorage() {
    const state = {
        editingMode: editingMode,
        currentEditingImage: currentEditingImage,
        generatedImages: generatedImages,
        attachedImages: attachedImages
    };
    localStorage.setItem('nanobanana_state', JSON.stringify(state));
}

// Load state from localStorage
function loadStateFromStorage() {
    const savedState = localStorage.getItem('nanobanana_state');
    if (savedState) {
        try {
            const state = JSON.parse(savedState);
            editingMode = state.editingMode || false;
            currentEditingImage = state.currentEditingImage || null;
            generatedImages = state.generatedImages || [];
            attachedImages = state.attachedImages || [];
            
            // Restore UI state
            if (editingMode && currentEditingImage) {
                activateEditingMode(currentEditingImage);
            }
            updateAttachedImages();
            updateGallery();
        } catch (e) {
            console.error('Failed to load state:', e);
        }
    }
}


        // Tab switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName + '-tab').classList.add('active');
        }

        // Handle input changes
        function handleInput() {
            const input = document.getElementById('prompt-input');
            const charCount = document.getElementById('char-count');
            const sendBtn = document.getElementById('send-btn');
            
            const length = input.value.length;
            charCount.textContent = length > 0 ? length.toString() : '';
            
            // Auto-resize
            input.style.height = 'auto';
            input.style.height = Math.min(input.scrollHeight, 200) + 'px';
            
            // Enable/disable send button
            sendBtn.disabled = length === 0 && attachedImages.length === 0;
        }

        // Handle keyboard shortcuts
        function handleKeyDown(event) {
            if ((event.ctrlKey || event.metaKey) && event.key === 'Enter') {
                event.preventDefault();
                generateImage();
            }
        }

        // Trigger file upload
        function triggerFileUpload() {
            document.getElementById('file-input').click();
        }

        // Handle file upload
        function handleFileUpload(input) {
            const files = Array.from(input.files);
            
            files.forEach(file => {
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        attachedImages.push({
                            name: file.name,
                            data: e.target.result
                        });
                        updateAttachedImages();
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            input.value = '';
        }

        function updateAttachedImages() {
    const container = document.getElementById('attached-images');
    
    if (attachedImages.length === 0 && !editingMode) {
        container.style.display = 'none';
        return;
    }
    
    container.style.display = 'flex';
    let html = '';
    
    // Show editing image if in editing mode
    if (editingMode && currentEditingImage) {
        html += `
            <div class="attached-image edited-result">
                <img src="${currentEditingImage}" alt="Editing">
            </div>
        `;
    }
    
    // Show regular attached images
    html += attachedImages.map((img, index) => `
        <div class="attached-image">
            <img src="${img.data}" alt="${img.name}">
            <button class="remove-attachment" onclick="removeAttachedImage(${index})">×</button>
        </div>
    `).join('');
    
    container.innerHTML = html;
    handleInput();
}



// Add this to your existing JavaScript

// Download image function
function downloadImage(imageUrl, prompt = '') {
    // Create timestamp
    const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, 19);
    
    // Create filename
    const filename = `nano_banana_${timestamp}.png`;
    
    // Create a temporary anchor element
    const link = document.createElement('a');
    link.style.display = 'none';
    
    // Handle different types of image URLs
    if (imageUrl.startsWith('data:')) {
        // Data URL - can download directly
        link.href = imageUrl;
        link.download = filename;
    } else {
        // External URL - need to fetch and convert
        fetch(imageUrl)
            .then(response => response.blob())
            .then(blob => {
                const url = window.URL.createObjectURL(blob);
                link.href = url;
                link.download = filename;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                window.URL.revokeObjectURL(url);
            })
            .catch(error => {
                console.error('Download failed:', error);
                // Fallback - open in new tab
                window.open(imageUrl, '_blank');
            });
        return;
    }
    
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
}

// Open image in new tab with custom name
function openImage(imageUrl, prompt = '') {
    showImagePopup(imageUrl, prompt);
}

// Update the displayResult function to include download button
function displayResult(imageData) {
    const container = document.getElementById('image-results');
    container.classList.add('has-content');
    container.innerHTML = `
        <img src="${imageData}" alt="Generated Image" class="result-image" onclick="openImage('${imageData}')">
        <button class="download-btn" onclick="downloadImage('${imageData}')">⇩ Download</button>
    `;
}

// Update gallery items to include download functionality
function updateGallery() {
    const grid = document.getElementById('gallery-grid');
    
    if (generatedImages.length === 0) {
        grid.innerHTML = '<div class="empty-gallery">No images generated yet</div>';
        return;
    }
    
    grid.innerHTML = generatedImages.map((img, index) => `
        <div class="gallery-item">
            <button class="gallery-remove" onclick="event.stopPropagation(); removeFromGallery(${index})">×</button>
            <img src="${img.data}" alt="Generated Image" onclick="openImage('${img.data}', '${img.prompt}')" style="cursor: pointer;" title="Click to view full size">
            <div class="gallery-item-text">${img.prompt.substring(0, 40)}...</div>
            <div style="margin-top: 8px;">
                <button onclick="event.stopPropagation(); downloadImage('${img.data}', '${img.prompt}')" 
                        style="background: #1e293b; color: white; border: none; padding: 4px 8px; border-radius: 4px; font-size: 11px; cursor: pointer;">
                    ⇩ Download
                </button>
            </div>
        </div>
    `).join('');
}
        // Remove attached image
        function removeAttachedImage(index) {
            attachedImages.splice(index, 1);
            updateAttachedImages();
        }

        // Use suggestion
        function useSuggestion(text) {
            document.getElementById('prompt-input').value = text;
            handleInput();
            document.getElementById('prompt-input').focus();
        }

       // First, add this toast function at the top of your file or in a separate utils file
function showToast(message, type = 'error') {
    // Create toast container if it doesn't exist
    let toastContainer = document.getElementById('toast-container');
    if (!toastContainer) {
        toastContainer = document.createElement('div');
        toastContainer.id = 'toast-container';
        toastContainer.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        `;
        document.body.appendChild(toastContainer);
    }

    // Create toast element
    const toast = document.createElement('div');
    const bgColor = type === 'error' ? '#ef4444' : '#10b981';
    
    toast.style.cssText = `
        background-color: ${bgColor};
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        font-weight: 500;
        max-width: 300px;
        word-wrap: break-word;
        transform: translateX(100%);
        transition: transform 0.3s ease-in-out;
        cursor: pointer;
    `;
    
    toast.textContent = message;
    
    // Add click to dismiss
    toast.addEventListener('click', () => {
        removeToast(toast);
    });
    
    toastContainer.appendChild(toast);
    
    // Trigger animation
    setTimeout(() => {
        toast.style.transform = 'translateX(0)';
    }, 10);
    
    // Auto remove after 5 seconds
    setTimeout(() => {
        removeToast(toast);
    }, 5000);
}

function removeToast(toast) {
    toast.style.transform = 'translateX(100%)';
    setTimeout(() => {
        if (toast.parentNode) {
            toast.parentNode.removeChild(toast);
        }
    }, 300);
}

// Updated generateImage function
async function generateImage() {
    const prompt = document.getElementById('prompt-input').value.trim();
    
    if (!prompt && !editingMode) {
        alert('Please enter a prompt!');
        return;
    }

    // Check if user has used first credit
    if (creditTracker.hasUsedFirstCredit()) {
        showLoginModal();
        return;
    }

    const sendBtn = document.getElementById('send-btn');
    sendBtn.innerHTML = '⏳';
    sendBtn.disabled = true;

    showLoadingState();

    try {
        const formData = new FormData();

        const authToken = localStorage.getItem("authToken") ?? "eyJ1c2VySWQiOiAxMTExLCAibWFpbCI6ICJ5dGJ2aWRlb3Nkb3dubG9hZGVyQGdtYWlsLmNvbSIsICJuYW1lIjogIllvdXR1YmUgdmlkZW8gRG93bmxvYWRlciIsICJwcm9maWxlX3BpYyI6ICJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vYS9BQ2c4b2NKbURha0tWczVmRW9UTV9XSE81VUNlV3JaTlhSNzYyLTlaZDViam92UHFENnJHX2c9czk2LWMiLCAiaXNfcHJlbWl1bV91c2VyIjogbnVsbCwgInN1YnNjcmlwdGlvbl9lbmRfZGF0ZSI6ICIyMDI1LTEwLTEzIDA4OjQyOjU3Ljg2ODYzOSJ9ZTNjMThlYzNlOWJmMDM1OWYzYTllNzE4YjdjYjFmOWI1NzcwZjdiM2EyMGFlYzQ5ODI1ZTJkNTRiYTMwODg0Zg==";
        
        formData.append('chat_id', 'bXYwNi1zZGtkZ3Y');
        formData.append('message', prompt || 'Continue editing');
        formData.append('authToken', authToken);
        formData.append('does_chat_have_name', 'false');
        formData.append('models', 'ChatGpt');
        formData.append('versions_data', '[{"modelName":"ChatGpt","version":"gpt-3.5-turbo"}]');
        formData.append('requestId', `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`);

        // Add current editing image if in editing mode
        if (editingMode && currentEditingImage) {
            const response = await fetch(currentEditingImage);
            const blob = await response.blob();
            formData.append('file_0', blob, 'editing_image.png');
            formData.append('file_0_type', 'image');
            formData.append('file_0_name', 'editing_image.png');
        }

        // Add other attached images
        for (let i = 0; i < attachedImages.length; i++) {
            const img = attachedImages[i];
            const response = await fetch(img.data);
            const blob = await response.blob();
            const fileIndex = editingMode ? i + 1 : i;
            formData.append(`file_${fileIndex}`, blob, img.name);
            formData.append(`file_${fileIndex}_type`, 'image');
            formData.append(`file_${fileIndex}_name`, img.name);
        }

        const apiResponse = await fetch('https://chatezzy.com/chat/v2/nanobanana-direct', {
            method: 'POST',
            headers: {
                'Accept': '*/*',
                'Accept-Language': 'en-IN,en-US;q=0.9,en;q=0.8',
                'Cache-Control': 'no-cache',
                'Origin': 'https://chatezzy.com',
                'Referer': 'https://chatezzy.com/superai/bXYwNi1zZGtkZ3Y',
                'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36'
            },
            body: formData
        });

        // Parse response regardless of status
        const responseData = await apiResponse.json();
        
        // Check for limit reached error specifically
        if (responseData.status_code === 400 && responseData.detail === "Limit Reached Sorry") {
            showToast("Generation limit reached. Please try again later.", 'error');
            updateCreditDisplay(0);
            return;
        }

        if (responseData && responseData.creditcount !== undefined) {
            updateCreditDisplay(responseData.creditcount);
        }
        
        // Check for other HTTP errors
        if (!apiResponse.ok) {
            throw new Error(`HTTP error! status: ${apiResponse.status}`);
        }
        
        let imageUrl = null;
        if (responseData && responseData.image_url) {
            imageUrl = responseData.image_url;
        } else if (responseData && responseData.data && responseData.data.image_url) {
            imageUrl = responseData.data.image_url;
        } else {
            imageUrl = createPlaceholderImage(prompt);
        }

        // Mark first credit as used AFTER successful generation
        if (!editingMode) {
            creditTracker.markAsUsed();
        }

        // Display result and activate editing mode
        displayResult(imageUrl);
        addToGallery(imageUrl, prompt || 'Edited image');
        
        // Activate editing mode with the new image
        activateEditingMode(imageUrl);
        
        // Clear prompt and regular attachments, but keep editing mode active
        document.getElementById('prompt-input').value = '';
        attachedImages = [];
        updateAttachedImages();
        
        // Save state
        saveStateToStorage();

    } catch (error) {
        console.error('Error generating image:', error);
        
        // Show toast for general errors
        showToast("Failed to generate image. Please try again.", 'error');
        
        const container = document.getElementById('image-results');
        container.classList.add('has-content');
        container.innerHTML = `
            <div style="text-align: center; color: #ef4444;">
                <div style="font-size: 2rem; margin-bottom: 8px;">❌</div>
                <div>Failed to generate image</div>
                <div style="font-size: 0.875rem; margin-top: 4px;">Please try again</div>
            </div>
        `;
    } finally {
        sendBtn.innerHTML = '↑';
        sendBtn.disabled = false;
        document.getElementById('prompt-input').value = '';
        attachedImages = [];
        updateAttachedImages();
        handleInput();
    }
}

// Check credit status on page load and initialize IndexedDB check
document.addEventListener('DOMContentLoaded', function() {
    // Check IndexedDB as well
    creditTracker.checkIndexedDB(function(hasUsed) {
        if (hasUsed && !creditTracker.hasUsedFirstCredit()) {
            creditTracker.markAsUsed();
        }
    });
    
    // Update UI based on credit status
    updateUIForCreditStatus();
});



function updateUIForCreditStatus() {
    if (creditTracker.hasUsedFirstCredit()) {
        // You can add visual indicators that the user needs to log in
        const sendBtn = document.getElementById('send-btn');
        sendBtn.title = 'Login required to generate more images';
        
        // Optional: Add a small indicator
        const promptInput = document.getElementById('prompt-input');
        promptInput.placeholder = 'Sign in to continue generating images...';
    }
}


// New function to activate editing mode
function activateEditingMode(imageUrl) {
    editingMode = true;
    currentEditingImage = imageUrl;
    
    // Add editing mode banner
    const inputContainer = document.getElementById('chat-container');
    
    // Remove existing banner if present
    const existingBanner = inputContainer.querySelector('.editing-mode-banner');
    if (existingBanner) {
        existingBanner.remove();
    }
    
    // Create and add new banner
    const banner = document.createElement('div');
    banner.className = 'editing-mode-banner';
    banner.innerHTML = `
        <div class="editing-mode-text">
            <span class="editing-mode-icon">✨</span>
            <span>Image Editing Mode Activated</span>
        </div>
        <button class="clear-mode-btn" onclick="showClearModal()">Clear</button>
    `;
    
    inputContainer.insertBefore(banner, inputContainer.firstChild);
    
    saveStateToStorage();
}

// Show clear confirmation modal
function showClearModal() {
    document.getElementById('clearModal').style.display = 'flex';
}

// Close clear modal
function closeClearModal() {
    document.getElementById('clearModal').style.display = 'none';
}

// Confirm clear editing mode
function confirmClearEditingMode() {
    editingMode = false;
    currentEditingImage = null;
    
    // Remove editing mode banner
    const banner = document.querySelector('.editing-mode-banner');
    if (banner) {
        banner.remove();
    }
    
    // Clear the image results
    const container = document.getElementById('image-results');
    container.classList.remove('has-content');
    container.innerHTML = '<div class="placeholder-text">Generated images will appear here</div>';
    
    // Clear all attached images including the editing image
    attachedImages = [];
    updateAttachedImages();
    
    // Close modal
    closeClearModal();
    
    // Clear localStorage
    localStorage.removeItem('nanobanana_state');
    
    handleInput();
}


        // Show loading state with shimmer
        function showLoadingState() {
            const container = document.getElementById('image-results');
            container.classList.add('has-content');
            container.innerHTML = `
                <div style="width: 100%; max-width: 400px;">
                    <div class="loading-shimmer"></div>
                    <div class="loading-text">
                        <span class="loading-dots">Generating your image</span>
                    </div>
                </div>
            `;
        }

        // Create placeholder image
        function createPlaceholderImage(prompt) {
            const canvas = document.createElement('canvas');
            canvas.width = 400;
            canvas.height = 300;
            const ctx = canvas.getContext('2d');
            
            const gradient = ctx.createLinearGradient(0, 0, 400, 300);
            gradient.addColorStop(0, '#3b82f6');
            gradient.addColorStop(1, '#1e40af');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 400, 300);
            
            ctx.fillStyle = 'white';
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Generated Image', 200, 140);
            ctx.font = '12px Arial';
            ctx.fillText(prompt.substring(0, 30) + '...', 200, 160);
            
            return canvas.toDataURL();
        }



        // Add to gallery
        function addToGallery(imageData, prompt) {
            generatedImages.unshift({
                data: imageData,
                prompt: prompt,
                timestamp: new Date()
            });
            
            if (generatedImages.length > maxImages) {
                generatedImages = generatedImages.slice(0, maxImages);
            }
            
            updateGallery();
        }



        // Remove from gallery
        function removeFromGallery(index) {
            generatedImages.splice(index, 1);
            updateGallery();
        }

        // Toggle FAQ
        function toggleFaq(button) {
            const faqItem = button.parentElement;
            const answer = faqItem.querySelector('.faq-answer');
            const isActive = faqItem.classList.contains('active');
            
            // Close all other FAQs
            document.querySelectorAll('.faq-item').forEach(item => {
                item.classList.remove('active');
                item.querySelector('.faq-answer').classList.remove('active');
            });
            
            // Toggle current FAQ
            if (!isActive) {
                faqItem.classList.add('active');
                answer.classList.add('active');
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            handleInput();
        });

        // Replace the existing openImage function with this:


// Add these new functions:
function showImagePopup(imageUrl, prompt = '') {
    // Create overlay
    const overlay = document.createElement('div');
    overlay.className = 'image-popup-overlay';
    overlay.onclick = (e) => {
        if (e.target === overlay) {
            closeImagePopup();
        }
    };
    
    // Create popup content
    const content = document.createElement('div');
    content.className = 'image-popup-content';
    
    // Generate timestamp for filename
    const timestamp = new Date().toISOString().replace(/[:.]/g, '-').slice(0, 19);
    const filename = `nano_banana_${timestamp}`;
    
    content.innerHTML = `
        <div class="image-popup-header">
            <button class="image-popup-close" onclick="closeImagePopup()">×</button>
        </div>
        
        <div class="image-popup-body">
            <img src="${imageUrl}" alt="Generated Image" class="image-popup-img">
        </div>
        
        <div class="image-popup-footer">
            <div class="image-popup-actions">
                <button class="popup-action-btn" onclick="downloadImageFromPopup('${imageUrl}', '${filename}')">
                    Download
                </button>
            </div>
        </div>
    `;
    
    overlay.appendChild(content);
    document.body.appendChild(overlay);
    
    // Disable body scroll
    document.body.style.overflow = 'hidden';
    
    // Add escape key listener
    document.addEventListener('keydown', handlePopupKeydown);
}

function closeImagePopup() {
    const overlay = document.querySelector('.image-popup-overlay');
    if (overlay) {
        // Add fade out animation
        overlay.style.animation = 'popupFadeOut 0.2s ease forwards';
        
        setTimeout(() => {
            overlay.remove();
            document.body.style.overflow = 'auto';
            document.removeEventListener('keydown', handlePopupKeydown);
        }, 200);
    }
}

function handlePopupKeydown(e) {
    if (e.key === 'Escape') {
        closeImagePopup();
    }
}

function openImageInNewTab(imageUrl) {
    window.open(imageUrl, '_blank');
}

function downloadImageFromPopup(imageUrl, filename) {
    downloadImage(imageUrl);
    closeImagePopup();
}


function getUserToken() {
    // Check multiple sources for token
    // 1. From localStorage
    let token = localStorage.getItem('authToken');
    if (token) return token;
    

    if (token) return token;
    
    // 4. Default token (for development)
    return "";
}



class CreditTracker {
    constructor() {
        this.storageKey = 'nanobanana_used_first_credit';
        this.cookieName = 'nb_first_used';
        this.sessionKey = 'nb_session_credit';
    }

    isAuthenticated() {
        const authToken = localStorage.getItem('authToken');
        return authToken && authToken.trim() !== '';
    }

    // Show login popup only if user is not authenticated
    shouldShowLoginPopup() {
        return !this.isAuthenticated();
    }

    // Check if user has used their first credit using multiple storage methods
    hasUsedFirstCredit() {
        // Check localStorage
        const authToken = localStorage.getItem('authToken');
            if (authToken && authToken.trim() !== '') {
                return false; // This will prevent popup from showing
            }



        if (localStorage.getItem(this.storageKey) === 'true') {
            return true;
        }
        
        // Check cookie
        if (this.getCookie(this.cookieName) === 'used') {
            return true;
        }
        
        // Check sessionStorage
        if (sessionStorage.getItem(this.sessionKey) === 'used') {
            return true;
        }
        
        // Check URL parameter (in case of redirect)
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('credit_used') === 'true') {
            this.markAsUsed(); // Store it persistently
            return true;
        }

        return false;
    }

    // Mark first credit as used in multiple places
    markAsUsed() {
        // Store in localStorage
        localStorage.setItem(this.storageKey, 'true');
        
        // Store in cookie (expires in 1 year)
        this.setCookie(this.cookieName, 'used', 365);
        
        // Store in sessionStorage
        sessionStorage.setItem(this.sessionKey, 'used');
        
        // Add to URL parameter (for page refresh persistence)
        const url = new URL(window.location);
        url.searchParams.set('credit_used', 'true');
        window.history.replaceState({}, '', url);
        
        // Also try to store in browser's IndexedDB for extra persistence
        this.storeInIndexedDB();
    }

    // Cookie helper functions
    setCookie(name, value, days) {
        const expires = new Date();
        expires.setTime(expires.getTime() + (days * 24 * 60 * 60 * 1000));
        document.cookie = `${name}=${value};expires=${expires.toUTCString()};path=/;SameSite=Strict`;
    }

    getCookie(name) {
        const nameEQ = name + "=";
        const ca = document.cookie.split(';');
        for (let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) === ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
    }

    // Store in IndexedDB for maximum persistence
    storeInIndexedDB() {
        if (!window.indexedDB) return;
        
        const request = indexedDB.open('NanoBananaDB', 1);
        request.onupgradeneeded = function(e) {
            const db = e.target.result;
            if (!db.objectStoreNames.contains('credits')) {
                db.createObjectStore('credits', { keyPath: 'id' });
            }
        };
        
        request.onsuccess = function(e) {
            const db = e.target.result;
            const transaction = db.transaction(['credits'], 'readwrite');
            const store = transaction.objectStore('credits');
            store.put({ id: 'first_credit_used', value: true, timestamp: Date.now() });
        };
    }

    // Check IndexedDB
    checkIndexedDB(callback) {
        if (!window.indexedDB) {
            callback(false);
            return;
        }
        
        const request = indexedDB.open('NanoBananaDB', 1);
        request.onsuccess = function(e) {
            const db = e.target.result;
            if (!db.objectStoreNames.contains('credits')) {
                callback(false);
                return;
            }
            
            const transaction = db.transaction(['credits'], 'readonly');
            const store = transaction.objectStore('credits');
            const getRequest = store.get('first_credit_used');
            
            getRequest.onsuccess = function() {
                callback(getRequest.result ? true : false);
            };
            
            getRequest.onerror = function() {
                callback(false);
            };
        };
        
        request.onerror = function() {
            callback(false);
        };
    }
}

// Initialize credit tracker
const creditTracker = new CreditTracker();

// Show login modal
function showLoginModal() {
    document.getElementById('loginModal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

// Close login modal
function closeLoginModal() {
    document.getElementById('loginModal').style.display = 'none';
    document.body.style.overflow = 'auto';
}

async function loginWithGoogle() {
    // Implement your Google OAuth login here
    // Example redirect:
    const button = document.getElementById('loginbuttonid1');
    button.disabled = true;
    //button.style.opacity = '0.0';

    let refer_code = localStorage.getItem('refer_code'); 

    try {
        const url = refer_code ? `/logggin/v2?refer_code=${encodeURIComponent(refer_code)}` : '/logggin/v2';

        const response = await fetch(url);
        const data = await response.json();
        
        if (data.redirect_uri) {
            const popup = window.open(data.redirect_uri, 'oauth_popup', 'width=500,height=600');

            // Check if popup was blocked
            if (!popup || popup.closed || typeof popup.closed == 'undefined') {
                // Store current page before redirecting
                localStorage.setItem('pre_auth_url', window.location.href);
                // Popup blocked - use full page redirect instead
                window.location.href = data.redirect_uri;
                return;
            }

            // Poll the popup URL instead of listening for messages
            const checkPopup = setInterval(() => {
                try {
                    if (popup.closed) {
                        clearInterval(checkPopup);
                        console.log('Popup closed');
                        return;
                    }

                    // Check if popup URL contains our success page
                    const popupUrl = popup.location.href;
                    if (popupUrl.includes('/oauth-success')) {
                        const urlParams = new URLSearchParams(popup.location.search);
                        const token = urlParams.get('token');
                        const name = urlParams.get('name');
                        const userId = urlParams.get('id');
                        
                        if (token) {
                            // Save token
                            localStorage.setItem('authToken', token);
                            localStorage.setItem('user_id', userId);
                            console.log('Auth token saved:', token);
                            
                            // Close popup and cleanup
                            popup.close();
                            clearInterval(checkPopup);
                            
                            location.reload();
                        }
                    }
                } catch (e) {
                    // Cross-origin error - popup is still on Google's domain
                    // This is expected during the OAuth flow
                }
            }, 1000);
        }
    } catch (error) {
        location.reload();
    } finally {
        button.disabled = false;
    }
    
    // Or if using Google OAuth library:
    // gapi.auth2.getAuthInstance().signIn();
}







function toggleProfileMenu() {
            var menu = document.getElementById('profileMenu');
            menu.classList.toggle('show');
        }

        // Close profile menu when clicking outside
        document.addEventListener('click', function(event) {
            var profileMenu = document.getElementById('profileMenu');
            var profileBtn = document.querySelector('.profile-btn');
            
            if (!profileBtn.contains(event.target) && !profileMenu.contains(event.target)) {
                profileMenu.classList.remove('show');
            }
        });

        function closePopup() {
            document.getElementById('popup').classList.remove('show');
        }








function handleSignOut() {
    showLogoutConfirmation();
}

function showLogoutConfirmation() {
    const overlay = document.getElementById('logoutOverlay');
    overlay.classList.add('show');
    
    // Prevent body scroll
    document.body.style.overflow = 'hidden';
    
    // Focus trap (optional)
    const confirmBtn = document.getElementById('confirmLogoutBtn');
    confirmBtn.focus();
}

// Hide logout confirmation modal
function hideLogoutConfirmation() {
    const overlay = document.getElementById('logoutOverlay');
    overlay.classList.remove('show');
    
    // Restore body scroll
    document.body.style.overflow = '';
}

// Confirm logout with loading state
async function confirmLogout() {
    const confirmBtn = document.getElementById('confirmLogoutBtn');
    const modal = document.querySelector('.logout-modal');
    
    // Show loading state
    confirmBtn.classList.add('loading');
    confirmBtn.textContent = '';
    
    try {
        // Simulate processing time (remove this delay in production)
        await new Promise(resolve => setTimeout(resolve, 1000));
        
        // Add success animation
        modal.classList.add('logout-success');
        
        // Clear localStorage
        localStorage.clear();
        
        // Optional: Clear sessionStorage
        sessionStorage.clear();
        
        // Wait for animation to complete
        setTimeout(() => {
            // Navigate to home page
            window.location.href = "/";
        }, 600);
        
    } catch (error) {
        console.error('Error during logout:', error);
        
        // Reset button state on error
        confirmBtn.classList.remove('loading');
        confirmBtn.textContent = 'Sign Out';
        
        // Still navigate on error
        window.location.href = "/";
    }
}




// Close modal when clicking outside
document.getElementById('logoutOverlay').addEventListener('click', function(e) {
    if (e.target === this) {
        hideLogoutConfirmation();
    }
});

// Close modal with Escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        hideLogoutConfirmation();
    }
});


// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
    fetchAndUpdateUserProfile();
});


        async function fetchAndUpdateUserProfile() {
    // Check if user data exists in localStorage
    const savedUserData = localStorage.getItem('userData');
    
    if (savedUserData) {
        // Use saved data
        const userData = JSON.parse(savedUserData);
        updateUserInterface(userData);
        return;
    }
    
    // No saved data, fetch from API
    try {
        const userToken = getUserToken();
        
        const response = await fetch(`https://chatezzy.com/get/details/${userToken}`, {
            method: 'GET',
            headers: {
                'Accept': '*/*',
                'Accept-Language': 'en-IN,en-US;q=0.9,en;q=0.8',
                'Cache-Control': 'no-cache',
                'Pragma': 'no-cache',
                'Sec-Fetch-Dest': 'empty',
                'Sec-Fetch-Mode': 'cors',
                'Sec-Fetch-Site': 'same-origin'
            }
        });
        
        if (!response.ok) {
            throw new Error('Failed to fetch user details');
        }
        
        const userData = await response.json();


        
        // Save to localStorage
        localStorage.setItem('userData', JSON.stringify(userData));
        
        updateUserInterface(userData);
        
    } catch (error) {
        console.error('Error fetching user details:', error);
        // Set default values on error
        updateUserInterface({
            name: 'Guest User',
            mail: 'guest@googlenanobanana.com',
            profile_pic: 'https://chatezzy.com/generated_images/gemini_1111_req_1754245880468_ktzofzepi_1_20250803_183127.png'
        });
    }
}

function updateUserInterface(userData) {
    // Update ALL profile images - using class selectors instead of IDs
    const profileImages = document.querySelectorAll('.profile-btn img, .profile-avatar img');
    profileImages.forEach(img => {
        img.src = userData.profile_pic || 'https://chatezzy.com/generated_images/gemini_1111_req_1754245880468_ktzofzepi_1_20250803_183127.png';
    });
    
    // Also update by ID if they exist
    const headerImg = document.getElementById('headerProfileImg');
    const menuImg = document.getElementById('menuProfileImg');
    
    if (headerImg) headerImg.src = userData.profile_pic || 'https://chatezzy.com/generated_images/gemini_1111_req_1754245880468_ktzofzepi_1_20250803_183127.png';
    if (menuImg) menuImg.src = userData.profile_pic || 'https://chatezzy.com/generated_images/gemini_1111_req_1754245880468_ktzofzepi_1_20250803_183127.png';
    
    // Update name - try multiple selectors
    const profileNames = document.querySelectorAll('#profileName, .profile-details h3');
    profileNames.forEach(el => {
        if (el) el.textContent = userData.name || 'User';
    });
    
    // Update email - try multiple selectors
    const profileEmails = document.querySelectorAll('#profileEmail, .profile-details p');
    profileEmails.forEach(el => {
        if (el) el.textContent = userData.mail || 'user@email.com';
    });
    
    // Show premium menu item if user is subscribed
    if (userData.is_subscribed) {
        const premiumMenuItem = document.getElementById('premiumMenuItem');
        if (premiumMenuItem) premiumMenuItem.style.display = 'flex';
        document.body.classList.add('premium-user');
    }
    
    // Store user data
    window.currentUser = userData;
    
    console.log('Profile updated:', userData); // Debug log
}

// Also add this function to manually refresh the profile pic if needed
function refreshProfilePic() {
    const userData = localStorage.getItem('userData');
    if (userData) {
        const parsed = JSON.parse(userData);
        updateUserInterface(parsed);
    }
}



// Function to fetch and display nano banana credits
async function fetchAndDisplayCredits() {
    const authToken = localStorage.getItem('authToken');
    
    // Only show if user has authToken
    if (!authToken || authToken.trim() === '') {
        return; // Don't show the credit counter
    }
    
    const creditCounter = document.getElementById('creditCounter');
    const creditCount = document.getElementById('creditCount');
    
    // Show the counter
    creditCounter.style.display = 'block';
    
    try {
        const response = await fetch('https://chatezzy.com/api/get-nano-credits', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: `authToken=${encodeURIComponent(authToken)}`
        });
        
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const data = await response.json();
        
        // Only show if credit count is positive
        if (data.creditcount && data.creditcount > 0) {
            creditCount.textContent = data.creditcount;
            creditCount.classList.remove('loading');
        } else {
            // Hide counter if credits are 0 or negative
            creditCounter.style.display = 'none';
        }
        
    } catch (error) {
        console.error('Error fetching nano credits:', error);
        // Hide counter on error
        creditCounter.style.display = 'none';
    }
}

// Function to update credit display after generation
function updateCreditDisplay(newCreditCount) {
    const creditCounter = document.getElementById('creditCounter');
    const creditCount = document.getElementById('creditCount');
    
    // Only proceed if user is authenticated
    const authToken = localStorage.getItem('authToken');
    if (!authToken || authToken.trim() === '') {
        return;
    }
    
    try {
        // Safely handle the credit count
        const safeCredits = Math.max(0, parseInt(newCreditCount) || 0);
        
        if (safeCredits >= 0) {
            // Show and update the counter
            creditCounter.style.display = 'block';
            creditCount.textContent = safeCredits;
            creditCount.classList.remove('loading');
        } else {
            // Hide counter if credits are 0 or negative
            creditCounter.style.display = 'none';
        }
        
    } catch (error) {
        console.error('Error updating credit display:', error);
        // On error, hide the counter
        creditCounter.style.display = 'none';
    }
}

document.addEventListener('DOMContentLoaded', function() {
    fetchAndUpdateUserProfile();
    fetchAndDisplayCredits();
    hideLogoutConfirmation();
});
    </script>
</body>
</html>